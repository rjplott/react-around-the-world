{"version":3,"sources":["images/logo.svg","components/Header.js","images/edit-pencil.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Login.js","components/Registration.js","components/ProtectedRoute.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/ImagePopup.js","images/register-success.svg","images/register-fail.svg","components/InfoTooltip.js","utils/api.js","images/user-image.jpg","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","isLoggedIn","isLoggingIn","onLogout","setIsLoggingIn","email","React","useState","window","innerWidth","width","setWidth","isMobile","setIsMobile","menuOpen","setMenuOpen","handleLinkClick","useEffect","addEventListener","className","src","logo","alt","aria-label","type","onClick","to","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","pencil","about","map","Footer","Login","onLogin","password","setPassword","setEmail","onSubmit","e","preventDefault","required","placeholder","id","value","onChange","target","Registration","onRegister","ProtectedRoute","Component","component","props","PopupWithForm","title","children","isOpen","onClose","buttonText","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddCard","imageTitle","setImageTitle","imageLink","setImageLink","minLength","maxLength","EditProfilePopup","onUpdateUser","userNameValue","setUserNameValue","userAboutValue","setUserAboutValue","ImagePopup","InfoTooltip","registrationSuccess","success","failure","api","options","this","_baseURL","baseURL","_headers","headers","res","ok","json","Promise","reject","status","statusText","token","fetch","authorization","then","_checkResponse","userInfo","method","body","JSON","stringify","cardData","_removeLike","_addLike","userAvatar","BASE_URL","checkResponse","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setIsLoggedIn","isRegistered","setIsRegistered","isInfoTooltipOpen","setIsInfoTooltipOpen","setCards","setToken","history","useHistory","handleApiError","error","console","log","localStorage","getItem","Accept","Authorization","data","auth","push","handleValidToken","getInitialCards","catch","getUserInformation","user","checkToken","closeAllPopups","Provider","removeItem","path","setItem","changeLikeCardStatus","newCard","c","deleteCard","filter","newInfo","updateUserInformation","newAvatar","updateUserAvartar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.86073a72.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.51aa5f9c.svg\";","import logo from '../images/logo.svg'\nimport { Link } from 'react-router-dom'\nimport React from 'react'\n\nexport default function Header({ isLoggedIn, isLoggingIn, onLogout, setIsLoggingIn, email }) {\n  \n  const [width, setWidth] = React.useState(window.innerWidth);\n  const breakpoint = 550;\n  const [isMobile, setIsMobile] = React.useState(width <= breakpoint)\n  const [menuOpen, setMenuOpen] = React.useState(false);\n\n  const handleLinkClick = () => {\n    setIsLoggingIn(!isLoggingIn);\n  }\n\n  const handleIconClick = () => {\n    setMenuOpen(!menuOpen);\n  }\n\n  const handleLogoutClick = () => {\n    setMenuOpen(false);\n    onLogout();\n  }\n\n  React.useEffect(() => {\n    window.addEventListener(\"resize\", () => {\n      setWidth(window.innerWidth);\n      setIsMobile(window.innerWidth <= breakpoint);\n    })\n  }, [])\n\n  if (isMobile) {\n    return isLoggedIn ?          \n      (\n        <header className=\"header page__header\">\n          <div className={`header__menu header__menu_mobile ${menuOpen ? \"\" : \"header__menu_closed\"}`}>\n            <p className=\"header__email\">{email}</p>\n            <Link className=\"header__link header__link_logout\">Log out</Link>\n          </div>\n          <img src={logo} alt=\"Around the US's logo\" className=\"header__logo\" />\n          <div className=\"header__menu-wrapper\">\n            <button\n              aria-label=\"Toggle Menu\"\n              type=\"button\"\n              className={`header__menu-toggle header__menu-toggle_visible ${menuOpen ? \"header__menu-toggle_icon_close\" : \"header__menu-toggle_icon_open\"}`}\n              onClick={handleIconClick}\n            ></button>\n          </div>\n        </header>\n        ) \n      :\n      (\n        <header className=\"header page__header\">\n          <img src={logo} alt=\"Around the US's logo\" className=\"header__logo\" />\n          {isLoggingIn ?\n            <Link onClick={handleLinkClick} to=\"/signup\" className=\"header__link\">Sign up</Link>\n            :\n            <Link onClick={handleLinkClick} to=\"/login\" className=\"header__link\">Log in</Link>}\n        </header>\n      )\n    }\n\n  return (\n    <header className=\"header page__header\">\n      <img src={logo} alt=\"Around the US's logo\" className=\"header__logo\" />\n      {\n        isLoggedIn ?          \n          (\n            <div className=\"header__menu-wrapper\">\n              <div className=\"header__menu\">\n                <p className=\"header__email\">{email}</p>\n                <Link to=\"/login\" className=\"header__link\" onClick={handleLogoutClick}>Log out</Link>\n              </div>\n              <button\n                aria-label=\"Toggle Menu\"\n                type=\"button\"\n                className=\"header__menu-toggle\"\n              ></button>\n            </div>\n        ) \n          :\n          isLoggingIn ?\n            <Link onClick={handleLinkClick} to=\"/signup\" className=\"header__link\">Sign up</Link>\n            :\n            <Link onClick={handleLinkClick} to=\"/login\" className=\"header__link\">Log in</Link>\n      }\n    </header>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/edit-pencil.a086f758.svg\";","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport React from 'react';\n\nexport default function Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner === currentUser._id;\n  const cardDeleteButtonClassName = `card__delete-button ${\n    isOwn ? 'card__delete-button_visible' : 'card__delete-button_hidden'\n  }`;\n  const isLiked = card.likes.some((i) => i === currentUser._id);\n  const cardLikeButtonClassName = `card__like-button ${\n    isLiked ? 'card__like-button_liked' : ''\n  }`;\n\n  return (\n    <div className=\"card\">\n      <button\n        className={cardDeleteButtonClassName}\n        type=\"button\"\n        aria-label=\"Delete Image\"\n        onClick={() => onCardDelete(card)}\n      ></button>\n      <div\n        style={{ backgroundImage: `url(${card.link})` }}\n        className=\"card__image\"\n        onClick={handleClick}\n      ></div>\n      <div className=\"card__text-container\">\n        <h2 className=\"card__label\">{card.name}</h2>\n        <div className=\"card__like-containers\">\n          <button\n            aria-label=\"Like Image\"\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            onClick={() => onCardLike(card)}\n          ></button>\n          <p className=\"card__likes\">{card.likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import pencil from '../images/edit-pencil.svg';\nimport React from 'react';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function Main({\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__user-container\">\n          <div onClick={onEditAvatar} className=\"profile__image-wrapper\">\n            <img\n              alt=\"User's profile\"\n              className=\"profile__user-image\"\n              src={currentUser.avatar}\n            />\n            <div className=\"profile__image-overlay\">\n              <img\n                src={pencil}\n                alt=\"A small icon of a pencil\"\n                className=\"profile__edit-icon\"\n              />\n            </div>\n          </div>\n          <div className=\"profile__user-text\">\n            <div className=\"profile__wrapper\">\n              <h1 className=\"profile__user-name\">{currentUser.name}</h1>\n              <button\n                aria-label=\"Edit Profile\"\n                type=\"button\"\n                className=\"profile__edit-button\"\n                onClick={onEditProfile}\n              ></button>\n            </div>\n            <p className=\"profile__user-title\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          aria-label=\"Add Image\"\n          type=\"button\"\n          className=\"profile__add-image-button\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n      <section className=\"gallery\">\n        {cards.map((card) => (\n          <Card\n            key={card._id}\n            card={card}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n","export default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&copy; 2021 Around The U.S.</p>\n    </footer>\n  )\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function Login({onLogin}) {\n\n  const [password, setPassword] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n\n\n  const handlePasswordChange = (e) => setPassword(e.target.value);\n  const handleEmailChange = (e) => setEmail(e.target.value);\n  \n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    onLogin(email, password )\n  }\n\n  return (\n    <section className=\"authentication\">\n      <form name=\"login-form\" className=\"authentication__form\" onSubmit={handleFormSubmit}>\n        <h2 className=\"authentication__title\">Log in</h2>\n        <input required type=\"email\" placeholder=\"Email\" name=\"email\" id=\"login-email\" className=\"authentication__input\" value={email} onChange={handleEmailChange} />\n        <input required type=\"password\" placeholder=\"Password\" name=\"password\" id=\"login-password\" className=\"authentication__input\" value={password} onChange={handlePasswordChange} />\n        <button aria-label=\"Submit Form\" type=\"submit\" className=\"authentication__submit\">Log in</button>\n        <Link to=\"/signup\" className=\"authentication__link\">Not a member yet? Sign up here!</Link>\n      </form>\n    </section>\n  )\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function Registration({onRegister}) {\n  \n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n\n  const handlePasswordChange = (e) => setPassword(e.target.value);\n  const handleEmailChange = (e) => setEmail(e.target.value);\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    onRegister(email, password);\n  }\n\n  \n\n  return (\n      <section className=\"authentication\">\n      <form name=\"registration-form\" className=\"authentication__form\" onSubmit={handleFormSubmit}>\n        <h2 className=\"authentication__title\">Sign up</h2>\n        <input required type=\"email\" placeholder=\"Email\" name=\"email\" id=\"registration-email\" className=\"authentication__input\" value={email} onChange={handleEmailChange} />\n        <input required type=\"password\" placeholder=\"Password\" name=\"password\" id=\"registration-password\" className=\"authentication__input\" value={password} onChange={handlePasswordChange} />\n        <button aria-label=\"Submit Form\" type=\"submit\" className=\"authentication__submit\">Sign up</button>\n        <Link to=\"/login\" className=\"authentication__link\">Already a member yet? Login in here!</Link>\n      </form>\n      </section>\n  )\n}","import { Route, Redirect } from \"react-router\";\nimport React from \"react\";\n\nexport default function ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {\n        () => props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"./login\" />\n      }\n    </Route>\n  )\n}","export default function PopupWithForm({\n  name,\n  title,\n  children,\n  isOpen,\n  onClose,\n  buttonText,\n  onSubmit,\n}) {\n  return (\n    <div\n      className={`popup popup_purpose_${name} ${isOpen ? `popup_opened` : ''}`}\n    >\n      <div className=\"popup__wrapper\">\n        <button\n          aria-label=\"Close Form\"\n          type=\"button\"\n          className=\"popup__close\"\n          onClick={onClose}\n        ></button>\n        <form\n          className=\"popup__form\"\n          name={`${name}-form`}\n          onSubmit={onSubmit}\n        >\n          <h2 className=\"popup__form-title\">{title}</h2>\n          {children}\n          <button\n            aria-label=\"Submit Form\"\n            type=\"submit\"\n            className=\"popup__button\"\n          >\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function EditAvatarPopup({ onClose, isOpen, onUpdateAvatar }) {\n  const avatarRef = React.useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      title=\"Change profile picture\"\n      name=\"edit-profile-picture\"\n      buttonText=\"Save\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        required\n        ref={avatarRef}\n        placeholder=\"Image URL\"\n        type=\"url\"\n        name=\"edit-picture-link\"\n        id=\"edit-picture-link\"\n        className=\"popup__input popup__input_type_image-link popup__input_purpose_edit-picture\"\n      />\n      <span className=\"popup__error edit-picture-link-error\">testing</span>\n    </PopupWithForm>\n  );\n}\n","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\n\nexport default function AddPlacePopup({ onClose, isOpen, onAddCard }) {\n  const [imageTitle, setImageTitle] = React.useState('');\n  const [imageLink, setImageLink] = React.useState('');\n\n  const handleUpdateImageTitle = (e) => {\n    setImageTitle(e.target.value);\n  };\n\n  const handleUpdateImageLink = (e) => {\n    setImageLink(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onAddCard({\n      name: imageTitle,\n      link: imageLink,\n    });\n\n    setImageLink('');\n    setImageTitle('');\n  };\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      title=\"New Place\"\n      name=\"add-picture\"\n      buttonText=\"Save\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        required\n        minLength=\"1\"\n        maxLength=\"30\"\n        placeholder=\"Title\"\n        type=\"text\"\n        name=\"add-image-title\"\n        id=\"add-image-title\"\n        className=\"popup__input popup__input_type_image-title\"\n        value={imageTitle}\n        onChange={handleUpdateImageTitle}\n      />\n      <span className=\"popup__error add-image-title-error\">testing</span>\n      <input\n        required\n        placeholder=\"Image URL\"\n        type=\"url\"\n        name=\"add-image-link\"\n        id=\"add-image-link\"\n        className=\"popup__input popup__input_type_image-link\"\n        value={imageLink}\n        onChange={handleUpdateImageLink}\n      />\n      <span className=\"popup__error add-image-link-error\">testing</span>\n    </PopupWithForm>\n  );\n}\n","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [userNameValue, setUserNameValue] = React.useState('Jacque Costeau');\n  const [userAboutValue, setUserAboutValue] = React.useState('Explorer');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setUserNameValue(currentUser.name);\n    setUserAboutValue(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  function handleUserNameChange(e) {\n    setUserNameValue(e.target.value);\n  }\n\n  function handleUserAboutChange(e) {\n    setUserAboutValue(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    // Prevent the browser from navigating to the form address\n    e.preventDefault();\n\n    // Pass the values of the managed components to the external handler\n    onUpdateUser({\n      name: userNameValue,\n      about: userAboutValue,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      title=\"Edit profile\"\n      name=\"edit-user\"\n      buttonText=\"Save\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        required\n        placeholder=\"User's Name\"\n        type=\"text\"\n        name=\"edit-user-name\"\n        id=\"edit-user-name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        className=\"popup__input popup__input_type_name\"\n        value={userNameValue}\n        onChange={handleUserNameChange}\n      />\n      <span className=\"popup__error edit-user-name-error\"></span>\n      <input\n        required\n        placeholder=\"User's Title\"\n        type=\"text\"\n        name=\"edit-user-title\"\n        id=\"edit-user-title\"\n        className=\"popup__input popup__input_type_user-title\"\n        value={userAboutValue}\n        onChange={handleUserAboutChange}\n      />\n      <span className=\"popup__error edit-user-title-error\"></span>\n    </PopupWithForm>\n  );\n}\n","export default function ImagePopup({ card, onClose }) {\n  return (\n    <div\n      className={\n        card\n          ? 'popup popup_purpose_view-full-picture popup_opened'\n          : 'popup popup_purpose_view-full-picture'\n      }\n    >\n      <div className=\"popup__wrapper\">\n        <button\n          aria-label=\"Close Form\"\n          type=\"button\"\n          className=\"popup__close\"\n          onClick={onClose}\n        ></button>\n        <figure className=\"popup__full-image-container\">\n          <img\n            src={card?.link}\n            alt=\"Full size popup.\"\n            className=\"popup__full-image\"\n          />\n          <figcaption className=\"popup__image-caption\">\n            {card ? card.name : 'None'}\n          </figcaption>\n        </figure>\n      </div>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/register-success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/register-fail.df8eddf6.svg\";","import success from '../images/register-success.svg';\nimport failure from '../images/register-fail.svg';\n\nexport default function InfoTooltip({ registrationSuccess, onClose, isOpen }) {\n  return (\n    <div\n      className={\n        `popup popup_purpose_info_tooltip ${isOpen ? `popup_opened` : ''}`}>\n      <div className=\"popup__wrapper\">\n        <button\n          aria-label=\"Close Form\"\n          type=\"button\"\n          className=\"popup__close\"\n          onClick={onClose}\n        ></button>\n        <div className=\"popup__tooltip-wrapper\">\n          <img src={ registrationSuccess ? success : failure } alt={ registrationSuccess ? 'Circle with a checkmark inside' : 'Circle with an X inside' } className=\"popup__tooltip-image\" />\n          <p className=\"popup__tooltip-text\">{ registrationSuccess ? 'Success! You have now been registered.' : 'Ooops, something went wrong! Please try again.' }</p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","class Api {\n  constructor(options) {\n    this._baseURL = options.baseURL;\n    this._headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    return res.ok\n      ? res.json()\n      : Promise.reject(`Error: ${res.status} - ${res.statusText}`);\n  }\n\n  getUserInformation(token) {\n    return fetch(`${this._baseURL}/users/me`, {\n      headers: { ...this._headers, authorization: `Bearer ${token}` },\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards(token) {\n    return fetch(`${this._baseURL}/cards`, {\n      headers: { ...this._headers, authorization: `Bearer ${token}` },\n    }).then(this._checkResponse);\n  }\n\n  updateUserInformation(userInfo, token) {\n    return fetch(`${this._baseURL}/users/me`, {\n      method: 'PATCH',\n      headers: { ...this._headers, authorization: `Bearer ${token}` },\n      body: JSON.stringify(userInfo),\n    }).then(this._checkResponse);\n  }\n\n  addCard(cardData, token) {\n    return fetch(`${this._baseURL}/cards`, {\n      method: 'POST',\n      headers: { ...this._headers, authorization: `Bearer ${token}` },\n      body: JSON.stringify(cardData),\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(id, token) {\n    return fetch(`${this._baseURL}/cards/${id}`, {\n      method: 'DELETE',\n      headers: { ...this._headers, authorization: `Bearer ${token}` },\n    }).then(this._checkResponse);\n  }\n\n  _addLike(id, token) {\n    return fetch(`${this._baseURL}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: { ...this._headers, authorization: `Bearer ${token}` },\n    }).then(this._checkResponse);\n  }\n\n  _removeLike(id, token) {\n    return fetch(`${this._baseURL}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: { ...this._headers, authorization: `Bearer ${token}` },\n    }).then(this._checkResponse);\n  }\n\n  changeLikeCardStatus(id, isLiked, token) {\n    return !isLiked ? this._addLike(id, token) : this._removeLike(id, token);\n  }\n\n  updateUserAvartar(userAvatar, token) {\n    return fetch(`${this._baseURL}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: { ...this._headers, authorization: `Bearer ${token}` },\n      body: JSON.stringify(userAvatar),\n    }).then(this._checkResponse);\n  }\n}\n\nconst api = new Api({\n  baseURL: 'https://around-the-world-jl.herokuapp.com',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/user-image.29ae9507.jpg\";","const BASE_URL = 'https://around-the-world-jl.herokuapp.com';\n\nconst checkResponse = (res) => {\n  return res.ok\n    ? res.json()\n      : Promise.reject(`Error: ${res.status} - ${res.statusText}`);\n  }\n\nexport const register = ({email, password}) => {\n  return fetch(`${BASE_URL}/signup`, {\n    'method': 'POST',\n    'headers': {\n      'Accept': 'applicaton/json',\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then((res) => checkResponse(res))\n    .then((data) => {\n      return data;\n    })\n}\n\nexport const authorize = ({ email, password }) => {\n  return fetch(`${BASE_URL}/signin`, {\n    'method': 'POST',\n    'headers': {\n      'Accept': 'applicaton/json',\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => checkResponse(res))\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem('jwt', data.token);\n        return data;\n      } else {\n        return;\n      }\n    });\n}\n\nexport const validateToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      \"Content-Type\": 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then((res) => checkResponse(res))\n    .then((res) => res.data);\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport '../App.css';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport Login from './Login';\nimport Registration from './Registration';\nimport ProtectedRoute from './ProtectedRoute';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport InfoTooltip from './InfoTooltip';\nimport React from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport api from '../utils/api.js';\nimport avatar from '../images/user-image.jpg';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport * as auth from '../utils/auth';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState(null);\n\n  const [currentUser, setCurrentUser] = React.useState({\n    name: 'Jacque Costeau',\n    about: 'Explorer',\n    avatar: avatar,\n  });\n\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [isLoggingIn, setIsLoggingIn] = React.useState(true);\n  const [isRegistered, setIsRegistered] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [email, setEmail] = React.useState(\"\");\n  const [token, setToken] = React.useState(\"\");\n\n  const history = useHistory();\n\n  const handleApiError = (error) => console.log(error);\n\n  function handleCardLike(card) {\n    // Check one more time if this card was already liked\n    const isLiked = card.likes.some((i) => i === currentUser._id);\n\n    // Send a request to the API and getting the updated card data\n    api.changeLikeCardStatus(card._id, isLiked, token)\n      .then((res) => {\n        const newCard = res.data;\n        setCards((cards) => cards.map((c) => (c._id === card._id ? newCard : c)));\n      })\n      .catch(handleApiError);\n  }\n  function handleCardDelete(card) {\n    // Send a request to the API and getting the updated card data\n    api.deleteCard(card._id, token)\n      .then(() => {\n        setCards((cards) => cards.filter((c) => c._id !== card._id));\n      })\n      .catch(handleApiError);\n  }\n\n  const onRegister = (email, password) => {\n    auth.register({ email, password })\n      .then((res) => {\n        if (res) {\n          setIsRegistered(true);\n          setIsLoggingIn(true);\n        }\n        setIsInfoTooltipOpen(true);\n      })\n      .catch(handleApiError);\n  }\n\n  const onLogin = (email, password) => {\n    auth.authorize({ email, password })\n      .then((data) => {\n        if (data.token) {\n          setIsLoggedIn(true);\n          setIsLoggingIn(false);\n          setEmail(email);\n          setToken(data.token);\n          history.push('/');\n          return data.token;\n        }\n      })\n      .then((token) => {\n        api\n            .getUserInformation(token)\n          .then((user) => {\n              setCurrentUser(user.data);\n            })\n            .catch(handleApiError);\n      })\n      .catch(handleApiError);\n  }\n\n  const onLogout = () => {\n    setIsLoggedIn(false);\n    setIsLoggingIn(true);\n    setIsRegistered(false);\n    setEmail(null);\n    localStorage.removeItem('jwt');\n    setToken(\"\");\n    history.push('/login');\n  }\n\n  function handleValidToken (data) {\n            setIsLoggedIn(true);\n            history.push(\"/\");\n            setEmail(data.email);\n  }\n\n    React.useEffect(() => {\n    function checkToken() {\n      const token = localStorage.getItem('jwt');\n      \n\n    if (token) {\n      auth.validateToken(token)\n        .then(data => {\n          if (data) {\n            handleValidToken(data)\n            setToken(token);\n          }\n        })\n        .then(() => {\n          api\n            .getInitialCards(token)\n            .then((cards) => {\n              setCards(cards.data);\n            })\n            .catch(handleApiError);\n          \n          api\n            .getUserInformation(token)\n            .then((user) => {\n              setCurrentUser(user.data);\n            })\n            .catch(handleApiError);\n        })\n        .catch(handleApiError);\n      }\n  }\n\n    checkToken();\n  }, []);\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  const handleCloseTooltip = () => {\n    setIsInfoTooltipOpen(false);\n\n    if (isRegistered) {\n      history.push('/login');\n    }\n  }\n\n  const closeAllPopups = () => {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n  };\n\n  const handleAddCard = (newCard) => {\n    api\n      .addCard(newCard, token)\n      .then((newCard) => {\n        setCards([newCard.data, ...cards]);\n        closeAllPopups();\n      })\n      .catch(handleApiError);\n  };\n\n  const handleUpdateUser = (newInfo) => {\n    api\n      .updateUserInformation(newInfo, token)\n      .then((user) => {\n        setCurrentUser(user.data);\n        closeAllPopups();\n      })\n      .catch(handleApiError);\n  };\n\n  const handleUpdateAvatar = (newAvatar) => {\n    api\n      .updateUserAvartar(newAvatar, token)\n      .then((user) => {\n        setCurrentUser(user.data);\n        closeAllPopups();\n      })\n      .catch(handleApiError);\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page\">\n        <Header isLoggedIn={isLoggedIn} isLoggingIn={isLoggingIn} onLogout={onLogout} setIsLoggingIn={setIsLoggingIn} email={email} />\n        <Switch>\n          <Route path=\"/login\">\n            <Login onLogin={onLogin} />\n          </Route>\n          <Route path=\"/signup\">\n            <Registration onRegister={onRegister} />\n          </Route>\n          <ProtectedRoute isLoggedIn={isLoggedIn} path=\"/\"\n            onEditProfile={handleEditProfileClick}\n            onEditAvatar={handleEditAvatarClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            component={Main}\n          />\n          \n        </Switch>\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddCard={handleAddCard}\n        />\n        <PopupWithForm\n          onClose={closeAllPopups}\n          title=\"Are you sure?\"\n          name=\"remove-card\"\n          buttonText=\"Yes\"\n        />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <InfoTooltip isOpen={isInfoTooltipOpen} registrationSuccess={isRegistered} onClose={handleCloseTooltip} />\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App.js'\nimport reportWebVitals from './reportWebVitals'\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}